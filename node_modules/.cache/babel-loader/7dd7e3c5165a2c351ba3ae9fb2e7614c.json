{"ast":null,"code":"var helper = require('./options-helper');\n\nvar xml2js = require('./xml2js');\n\nfunction validateOptions(userOptions) {\n  var options = helper.copyOptions(userOptions);\n  helper.ensureSpacesExists(options);\n  return options;\n}\n\nmodule.exports = function (xml, userOptions) {\n  var options, js, json, parentKey;\n  options = validateOptions(userOptions);\n  js = xml2js(xml, options);\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent'; // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\n\n  if ('addParent' in options && options.addParent) {\n    json = JSON.stringify(js, function (k, v) {\n      return k === parentKey ? '_' : v;\n    }, options.spaces);\n  } else {\n    json = JSON.stringify(js, null, options.spaces);\n  }\n\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\n};","map":{"version":3,"sources":["c:/eclipse/react/book-suggestion/node_modules/xml-js/lib/xml2json.js"],"names":["helper","require","xml2js","validateOptions","userOptions","options","copyOptions","ensureSpacesExists","module","exports","xml","js","json","parentKey","compact","addParent","JSON","stringify","k","v","spaces","replace"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,kBAAD,CAApB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAApB;;AAEA,SAASE,eAAT,CAA0BC,WAA1B,EAAuC;AACrC,MAAIC,OAAO,GAAGL,MAAM,CAACM,WAAP,CAAmBF,WAAnB,CAAd;AACAJ,EAAAA,MAAM,CAACO,kBAAP,CAA0BF,OAA1B;AACA,SAAOA,OAAP;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiB,UAASC,GAAT,EAAcN,WAAd,EAA2B;AAC1C,MAAIC,OAAJ,EAAaM,EAAb,EAAiBC,IAAjB,EAAuBC,SAAvB;AACAR,EAAAA,OAAO,GAAGF,eAAe,CAACC,WAAD,CAAzB;AACAO,EAAAA,EAAE,GAAGT,MAAM,CAACQ,GAAD,EAAML,OAAN,CAAX;AACAQ,EAAAA,SAAS,GAAG,aAAaR,OAAb,IAAwBA,OAAO,CAACS,OAAhC,GAA0C,SAA1C,GAAsD,QAAlE,CAJ0C,CAK1C;;AACA,MAAI,eAAeT,OAAf,IAA0BA,OAAO,CAACU,SAAtC,EAAiD;AAC/CH,IAAAA,IAAI,GAAGI,IAAI,CAACC,SAAL,CAAeN,EAAf,EAAmB,UAAUO,CAAV,EAAaC,CAAb,EAAgB;AAAE,aAAOD,CAAC,KAAKL,SAAN,GAAiB,GAAjB,GAAuBM,CAA9B;AAAkC,KAAvE,EAAyEd,OAAO,CAACe,MAAjF,CAAP;AACD,GAFD,MAEO;AACLR,IAAAA,IAAI,GAAGI,IAAI,CAACC,SAAL,CAAeN,EAAf,EAAmB,IAAnB,EAAyBN,OAAO,CAACe,MAAjC,CAAP;AACD;;AACD,SAAOR,IAAI,CAACS,OAAL,CAAa,SAAb,EAAwB,SAAxB,EAAmCA,OAAnC,CAA2C,SAA3C,EAAsD,SAAtD,CAAP;AACD,CAZD","sourcesContent":["var helper = require('./options-helper');\r\nvar xml2js = require('./xml2js');\r\n\r\nfunction validateOptions (userOptions) {\r\n  var options = helper.copyOptions(userOptions);\r\n  helper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nmodule.exports = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\r\n"]},"metadata":{},"sourceType":"script"}