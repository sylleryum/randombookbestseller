{"ast":null,"code":"import _objectSpread from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Eclipse\\\\React\\\\book-suggestion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Fragment}from'react';import'./App.css';import{fetchDataNySingle}from\"./api/fetchDataNy\";import{getRandomDate}from\"./util/datesUtil\";import{fetchDataGr}from\"./api/fetchDataGr\";import BookContainer from\"./components/BookContainer\";import Footer from\"./components/Footer\";import{clearGoodreadsReview}from\"./util/stringUtil\";import Header from\"./components/Header\";import Loading from\"./components/Loading\";import Container from\"react-bootstrap/Container\";import{Row}from\"react-bootstrap\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,//0= fiction, 1=non fiction\nbookCategory:Math.floor(Math.random()*2),book:{author:\"\",book_image:\"\",description:\"\",grRating:\"\",numPages:\"\",primary_isbn10:\"\",publisher:\"\",reviews:\"\",title:\"\",url:\"\"}};_this.handleBookCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(category){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"1 - handler\");console.log(category);//this.state.bookCategory = category\n_this.setState({bookCategory:category,loading:true},function(){console.log(\"2 - current state inside handler\");console.log(_this.state);_this.apiCalls();});//this.state.loading = true\ncase 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.apiCalls();case 2:console.log(\"current state\");console.log(this.state);//await fetchDataGr(\"0316037915\")\ncase 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"apiCalls\",value:function(){var _apiCalls=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var bookNy,bookGr;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"3 - state category?\");console.log(this.state.bookCategory);_context3.next=4;return fetchDataNySingle(getRandomDate(),this.state.bookCategory);case 4:bookNy=_context3.sent;_context3.next=7;return fetchDataGr(bookNy.primary_isbn10);case 7:bookGr=_context3.sent;this.setState({loading:false,book:_objectSpread(_objectSpread({},bookNy),bookGr)});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function apiCalls(){return _apiCalls.apply(this,arguments);}return apiCalls;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Container,{className:\"rounded\",id:\"mainContainer\",direction:\"column\",alignItems:\"center\",justify:\"center\",style:{// maxHeight: '100vh',\ntextAlign:'center'}},/*#__PURE__*/React.createElement(Loading,{loading:this.state.loading,message:\"Getting your book...\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Header,{handler:this.handleBookCategory,current:this.state.bookCategory})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(BookContainer,{book:this.state.book}))),/*#__PURE__*/React.createElement(Footer,null));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/eclipse/React/book-suggestion/src/App.js"],"names":["React","Fragment","fetchDataNySingle","getRandomDate","fetchDataGr","BookContainer","Footer","clearGoodreadsReview","Header","Loading","Container","Row","App","state","loading","bookCategory","Math","floor","random","book","author","book_image","description","grRating","numPages","primary_isbn10","publisher","reviews","title","url","handleBookCategory","category","console","log","setState","apiCalls","bookNy","bookGr","textAlign","Component"],"mappings":"qkCAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,WAAP,CACA,OAAQC,iBAAR,KAAgC,mBAAhC,CACA,OAAQC,aAAR,KAA4B,kBAA5B,CACA,OAAQC,WAAR,KAA0B,mBAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAAQC,oBAAR,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,OAAQC,GAAR,KAAkB,iBAAlB,C,GAEMC,CAAAA,G,2TACFC,K,CAAQ,CACJC,OAAO,CAAE,IADL,CAEJ;AACAC,YAAY,CAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,CAA3B,CAHV,CAIJC,IAAI,CAAE,CACFC,MAAM,CAAE,EADN,CAEFC,UAAU,CAAE,EAFV,CAGFC,WAAW,CAAE,EAHX,CAIFC,QAAQ,CAAE,EAJR,CAKFC,QAAQ,CAAE,EALR,CAMFC,cAAc,CAAE,EANd,CAOFC,SAAS,CAAE,EAPT,CAQFC,OAAO,CAAE,EARP,CASFC,KAAK,CAAE,EATL,CAUFC,GAAG,CAAE,EAVH,CAJF,C,OAuCRC,kB,0FAAqB,iBAAOC,QAAP,kHACjBC,OAAO,CAACC,GAAR,gBACAD,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA;AACA,MAAKG,QAAL,CAAc,CACVnB,YAAY,CAAEgB,QADJ,CAEVjB,OAAO,CAAE,IAFC,CAAd,CAGG,UAAM,CACLkB,OAAO,CAACC,GAAR,CAAY,kCAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,MAAKpB,KAAjB,EACA,MAAKsB,QAAL,GACH,CAPD,EAQA;AAZiB,sD,uXApBX,MAAKA,QAAL,E,QACNH,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAjB,EACA;6aAIAmB,OAAO,CAACC,GAAR,wBACAD,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWE,YAAvB,E,uBACqBb,CAAAA,iBAAiB,CAACC,aAAa,EAAd,CAAkB,KAAKU,KAAL,CAAWE,YAA7B,C,QAAhCqB,M,uCACehC,CAAAA,WAAW,CAACgC,MAAM,CAACX,cAAR,C,QAA1BY,M,gBACN,KAAKH,QAAL,CAAc,CACVpB,OAAO,CAAE,KADC,CAEVK,IAAI,gCACGiB,MADH,EAEGC,MAFH,CAFM,CAAd,E,sLAwBK,CACL,mBACI,oBAAC,QAAD,mBACI,oBAAC,SAAD,EACI,SAAS,CAAE,SADf,CAEI,EAAE,CAAE,eAFR,CAGI,SAAS,CAAC,QAHd,CAII,UAAU,CAAC,QAJf,CAKI,OAAO,CAAC,QALZ,CAMI,KAAK,CAAE,CACH;AACAC,SAAS,CAAE,QAFR,CANX,eAUI,oBAAC,OAAD,EAAS,OAAO,CAAE,KAAKzB,KAAL,CAAWC,OAA7B,CAAsC,OAAO,CAAE,sBAA/C,EAVJ,cAWI,oBAAC,GAAD,mBACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKgB,kBAAtB,CAA0C,OAAO,CAAE,KAAKjB,KAAL,CAAWE,YAA9D,EADJ,CAXJ,cAcI,oBAAC,GAAD,mBACI,oBAAC,aAAD,EAAe,IAAI,CAAE,KAAKF,KAAL,CAAWM,IAAhC,EADJ,CAdJ,CADJ,cAoBI,oBAAC,MAAD,MApBJ,CADJ,CAyBH,C,iBAjFanB,KAAK,CAACuC,S,EAqFxB,cAAe3B,CAAAA,GAAf","sourcesContent":["import React, {Fragment} from 'react';\nimport './App.css';\nimport {fetchDataNySingle} from \"./api/fetchDataNy\";\nimport {getRandomDate} from \"./util/datesUtil\";\nimport {fetchDataGr} from \"./api/fetchDataGr\";\nimport BookContainer from \"./components/BookContainer\";\nimport Footer from \"./components/Footer\";\nimport {clearGoodreadsReview} from \"./util/stringUtil\";\nimport Header from \"./components/Header\";\nimport Loading from \"./components/Loading\";\nimport Container from \"react-bootstrap/Container\";\nimport {Row} from \"react-bootstrap\";\n\nclass App extends React.Component {\n    state = {\n        loading: true,\n        //0= fiction, 1=non fiction\n        bookCategory: Math.floor(Math.random() * 2),\n        book: {\n            author: \"\",\n            book_image: \"\",\n            description: \"\",\n            grRating: \"\",\n            numPages: \"\",\n            primary_isbn10: \"\",\n            publisher: \"\",\n            reviews: \"\",\n            title: \"\",\n            url: \"\"\n        }\n    }\n\n    async componentDidMount() {\n        await this.apiCalls();\n        console.log(\"current state\")\n        console.log(this.state)\n        //await fetchDataGr(\"0316037915\")\n    }\n\n    async apiCalls() {\n        console.log(`3 - state category?`)\n        console.log(this.state.bookCategory)\n        const bookNy = await fetchDataNySingle(getRandomDate(), this.state.bookCategory)\n        const bookGr = await fetchDataGr(bookNy.primary_isbn10)\n        this.setState({\n            loading: false,\n            book: {\n                ...bookNy,\n                ...bookGr\n            }\n        })\n    }\n\n    handleBookCategory = async (category) => {\n        console.log(`1 - handler`)\n        console.log(category)\n        //this.state.bookCategory = category\n        this.setState({\n            bookCategory: category,\n            loading: true\n        }, () => {\n            console.log(\"2 - current state inside handler\")\n            console.log(this.state)\n            this.apiCalls()\n        })\n        //this.state.loading = true\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <Container\n                    className={\"rounded\"}\n                    id={\"mainContainer\"}\n                    direction=\"column\"\n                    alignItems=\"center\"\n                    justify=\"center\"\n                    style={{\n                        // maxHeight: '100vh',\n                        textAlign: 'center',\n                    }}>\n                    <Loading loading={this.state.loading} message={\"Getting your book...\"}/>\n                    <Row>\n                        <Header handler={this.handleBookCategory} current={this.state.bookCategory}/>\n                    </Row>\n                    <Row>\n                        <BookContainer book={this.state.book}/>\n                    </Row>\n\n                </Container>\n                <Footer/>\n            </Fragment>\n        );\n\n    }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}